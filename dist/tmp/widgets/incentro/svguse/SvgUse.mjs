import { useState, useEffect, createElement } from 'react';

function SvgUse({
  buttonAction,
  svgColorVar,
  svgName,
  svgSize,
  ...rest
}) {
  const id = rest.id || "";
  const style = rest.class || "";
  const widgetName = rest.name || "";
  const [canRender, setCanRender] = useState(false);

  function onClick() {
    if (buttonAction && buttonAction.canExecute) {
      buttonAction.execute();
    }
  }

  useEffect(() => {
    if (svgName) {
      setCanRender(true);
    }
  }, [svgName]);

  if (canRender && (buttonAction ? buttonAction.isAuthorized : null)) {
    const interactiveClass = buttonAction ? "svg-icon--interactive" : "";
    return createElement("div", {
      id: id,
      className: `svg-icon ${style} ${widgetName} ${interactiveClass}`,
      onClick: () => buttonAction && onClick(),
      style: {
        "--icon-size": `${svgSize}px`,
        "--icon-color": `${svgColorVar}`
      }
    }, createElement("svg", {
      role: "img",
      className: "svg-icon__svg",
      style: {
        fill: "var(--icon-color, black)"
      }
    }, createElement("use", {
      href: `#${svgName}`
    })));
  } else {
    return null;
  }
}

export { SvgUse };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3ZnVXNlLm1qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL1N2Z1VzZS5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiLi91aS9TdmdVc2UuY3NzXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBTdmdVc2UoeyBidXR0b25BY3Rpb24sIHN2Z0NvbG9yVmFyLCBzdmdOYW1lLCBzdmdTaXplLCAuLi5yZXN0IH0pIHtcbiAgICBjb25zdCBpZCA9IHJlc3QuaWQgfHwgXCJcIjtcbiAgICBjb25zdCBzdHlsZSA9IHJlc3QuY2xhc3MgfHwgXCJcIjtcbiAgICBjb25zdCB3aWRnZXROYW1lID0gcmVzdC5uYW1lIHx8IFwiXCI7XG4gICAgY29uc3QgW2NhblJlbmRlciwgc2V0Q2FuUmVuZGVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgIGlmIChidXR0b25BY3Rpb24gJiYgYnV0dG9uQWN0aW9uLmNhbkV4ZWN1dGUpIHtcbiAgICAgICAgICAgIGJ1dHRvbkFjdGlvbi5leGVjdXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoc3ZnTmFtZSkge1xuICAgICAgICAgICAgc2V0Q2FuUmVuZGVyKHRydWUpO1xuICAgICAgICB9XG4gICAgfSwgW3N2Z05hbWVdKTtcblxuICAgIGlmIChjYW5SZW5kZXIgJiYgKGJ1dHRvbkFjdGlvbiA/IGJ1dHRvbkFjdGlvbi5pc0F1dGhvcml6ZWQgOiBudWxsKSkge1xuICAgICAgICBjb25zdCBpbnRlcmFjdGl2ZUNsYXNzID0gYnV0dG9uQWN0aW9uID8gXCJzdmctaWNvbi0taW50ZXJhY3RpdmVcIiA6IFwiXCI7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBpZD17aWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgc3ZnLWljb24gJHtzdHlsZX0gJHt3aWRnZXROYW1lfSAke2ludGVyYWN0aXZlQ2xhc3N9YH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBidXR0b25BY3Rpb24gJiYgb25DbGljaygpfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IFwiLS1pY29uLXNpemVcIjogYCR7c3ZnU2l6ZX1weGAsIFwiLS1pY29uLWNvbG9yXCI6IGAke3N2Z0NvbG9yVmFyfWAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3ZnIHJvbGU9XCJpbWdcIiBjbGFzc05hbWU9XCJzdmctaWNvbl9fc3ZnXCIgc3R5bGU9e3sgZmlsbDogXCJ2YXIoLS1pY29uLWNvbG9yLCBibGFjaylcIiB9fT5cbiAgICAgICAgICAgICAgICAgICAgPHVzZSBocmVmPXtgIyR7c3ZnTmFtZX1gfT48L3VzZT5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJTdmdVc2UiLCJidXR0b25BY3Rpb24iLCJzdmdDb2xvclZhciIsInN2Z05hbWUiLCJzdmdTaXplIiwicmVzdCIsImlkIiwic3R5bGUiLCJjbGFzcyIsIndpZGdldE5hbWUiLCJuYW1lIiwiY2FuUmVuZGVyIiwic2V0Q2FuUmVuZGVyIiwidXNlU3RhdGUiLCJvbkNsaWNrIiwiY2FuRXhlY3V0ZSIsImV4ZWN1dGUiLCJ1c2VFZmZlY3QiLCJpc0F1dGhvcml6ZWQiLCJpbnRlcmFjdGl2ZUNsYXNzIiwiZmlsbCJdLCJtYXBwaW5ncyI6Ijs7QUFHTyxTQUFTQSxNQUFULENBQWdCO0VBQUVDLFlBQUY7RUFBZ0JDLFdBQWhCO0VBQTZCQyxPQUE3QjtFQUFzQ0MsT0FBdEM7RUFBK0MsR0FBR0MsSUFBQUE7QUFBbEQsQ0FBaEIsRUFBMEU7QUFDN0UsRUFBQSxNQUFNQyxFQUFFLEdBQUdELElBQUksQ0FBQ0MsRUFBTCxJQUFXLEVBQXRCLENBQUE7QUFDQSxFQUFBLE1BQU1DLEtBQUssR0FBR0YsSUFBSSxDQUFDRyxLQUFMLElBQWMsRUFBNUIsQ0FBQTtBQUNBLEVBQUEsTUFBTUMsVUFBVSxHQUFHSixJQUFJLENBQUNLLElBQUwsSUFBYSxFQUFoQyxDQUFBO0VBQ0EsTUFBTSxDQUFDQyxTQUFELEVBQVlDLFlBQVosSUFBNEJDLFFBQVEsQ0FBQyxLQUFELENBQTFDLENBQUE7O0FBRUEsRUFBQSxTQUFTQyxPQUFULEdBQW1CO0FBQ2YsSUFBQSxJQUFJYixZQUFZLElBQUlBLFlBQVksQ0FBQ2MsVUFBakMsRUFBNkM7QUFDekNkLE1BQUFBLFlBQVksQ0FBQ2UsT0FBYixFQUFBLENBQUE7QUFDSCxLQUFBO0FBQ0osR0FBQTs7QUFFREMsRUFBQUEsU0FBUyxDQUFDLE1BQU07QUFDWixJQUFBLElBQUlkLE9BQUosRUFBYTtNQUNUUyxZQUFZLENBQUMsSUFBRCxDQUFaLENBQUE7QUFDSCxLQUFBO0FBQ0osR0FKUSxFQUlOLENBQUNULE9BQUQsQ0FKTSxDQUFULENBQUE7O0VBTUEsSUFBSVEsU0FBUyxLQUFLVixZQUFZLEdBQUdBLFlBQVksQ0FBQ2lCLFlBQWhCLEdBQStCLElBQWhELENBQWIsRUFBb0U7QUFDaEUsSUFBQSxNQUFNQyxnQkFBZ0IsR0FBR2xCLFlBQVksR0FBRyx1QkFBSCxHQUE2QixFQUFsRSxDQUFBO0lBRUEsT0FDSSxhQUFBLENBQUEsS0FBQSxFQUFBO0FBQ0ksTUFBQSxFQUFFLEVBQUVLLEVBRFI7QUFFSSxNQUFBLFNBQVMsRUFBRyxDQUFXQyxTQUFBQSxFQUFBQSxLQUFNLElBQUdFLFVBQVcsQ0FBQSxDQUFBLEVBQUdVLGdCQUFpQixDQUZuRSxDQUFBO0FBR0ksTUFBQSxPQUFPLEVBQUUsTUFBTWxCLFlBQVksSUFBSWEsT0FBTyxFQUgxQztBQUlJLE1BQUEsS0FBSyxFQUFFO1FBQUUsYUFBZ0IsRUFBQSxDQUFBLEVBQUVWLE9BQVEsQ0FBNUIsRUFBQSxDQUFBO0FBQWlDLFFBQUEsY0FBQSxFQUFpQixHQUFFRixXQUFZLENBQUEsQ0FBQTtBQUFoRSxPQUFBO0tBRVAsRUFBQSxhQUFBLENBQUEsS0FBQSxFQUFBO0FBQUssTUFBQSxJQUFJLEVBQUMsS0FBVjtBQUFnQixNQUFBLFNBQVMsRUFBQyxlQUExQjtBQUEwQyxNQUFBLEtBQUssRUFBRTtBQUFFa0IsUUFBQUEsSUFBSSxFQUFFLDBCQUFBO0FBQVIsT0FBQTtLQUM3QyxFQUFBLGFBQUEsQ0FBQSxLQUFBLEVBQUE7TUFBSyxJQUFJLEVBQUcsSUFBR2pCLE9BQVEsQ0FBQSxDQUFBO0FBQXZCLEtBQUEsQ0FESixDQU5KLENBREosQ0FBQTtBQVlILEdBZkQsTUFlTztBQUNILElBQUEsT0FBTyxJQUFQLENBQUE7QUFDSCxHQUFBO0FBQ0o7Ozs7In0=
