import { useState, useEffect, createElement } from 'react';

function SvgUse({
  buttonAction,
  svgColorVar,
  svgName,
  svgSize,
  ...rest
}) {
  const id = rest.id || "";
  const style = rest.class || "";
  const widgetName = rest.name || "";
  const [canRender, setCanRender] = useState(false);

  function onClick() {
    if (buttonAction && buttonAction.canExecute) {
      buttonAction.execute();
    }
  }

  useEffect(() => {
    if (svgName) {
      setCanRender(true);
    }
  }, [svgName]);

  if (canRender && (buttonAction && buttonAction.isAuthorized || !buttonAction)) {
    const interactiveClass = buttonAction ? "svg-icon--interactive" : "";
    return createElement("div", {
      id: id,
      className: `svg-icon ${style} ${widgetName} ${interactiveClass}`,
      onClick: () => buttonAction && onClick(),
      style: {
        "--icon-size": `${svgSize}px`,
        "--icon-color": `${svgColorVar}`
      }
    }, createElement("svg", {
      role: "img",
      className: "svg-icon__svg",
      style: {
        fill: "var(--icon-color, black)"
      }
    }, createElement("use", {
      href: `#${svgName}`
    })));
  } else {
    return null;
  }
}

export { SvgUse };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3ZnVXNlLm1qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL1N2Z1VzZS5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiLi91aS9TdmdVc2UuY3NzXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBTdmdVc2UoeyBidXR0b25BY3Rpb24sIHN2Z0NvbG9yVmFyLCBzdmdOYW1lLCBzdmdTaXplLCAuLi5yZXN0IH0pIHtcbiAgICBjb25zdCBpZCA9IHJlc3QuaWQgfHwgXCJcIjtcbiAgICBjb25zdCBzdHlsZSA9IHJlc3QuY2xhc3MgfHwgXCJcIjtcbiAgICBjb25zdCB3aWRnZXROYW1lID0gcmVzdC5uYW1lIHx8IFwiXCI7XG4gICAgY29uc3QgW2NhblJlbmRlciwgc2V0Q2FuUmVuZGVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgIGlmIChidXR0b25BY3Rpb24gJiYgYnV0dG9uQWN0aW9uLmNhbkV4ZWN1dGUpIHtcbiAgICAgICAgICAgIGJ1dHRvbkFjdGlvbi5leGVjdXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoc3ZnTmFtZSkge1xuICAgICAgICAgICAgc2V0Q2FuUmVuZGVyKHRydWUpO1xuICAgICAgICB9XG4gICAgfSwgW3N2Z05hbWVdKTtcblxuICAgIGlmIChjYW5SZW5kZXIgJiYgKChidXR0b25BY3Rpb24gJiYgYnV0dG9uQWN0aW9uLmlzQXV0aG9yaXplZCkgfHwgIWJ1dHRvbkFjdGlvbikpIHtcbiAgICAgICAgY29uc3QgaW50ZXJhY3RpdmVDbGFzcyA9IGJ1dHRvbkFjdGlvbiA/IFwic3ZnLWljb24tLWludGVyYWN0aXZlXCIgOiBcIlwiO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgaWQ9e2lkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHN2Zy1pY29uICR7c3R5bGV9ICR7d2lkZ2V0TmFtZX0gJHtpbnRlcmFjdGl2ZUNsYXNzfWB9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gYnV0dG9uQWN0aW9uICYmIG9uQ2xpY2soKX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBcIi0taWNvbi1zaXplXCI6IGAke3N2Z1NpemV9cHhgLCBcIi0taWNvbi1jb2xvclwiOiBgJHtzdmdDb2xvclZhcn1gIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHN2ZyByb2xlPVwiaW1nXCIgY2xhc3NOYW1lPVwic3ZnLWljb25fX3N2Z1wiIHN0eWxlPXt7IGZpbGw6IFwidmFyKC0taWNvbi1jb2xvciwgYmxhY2spXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgIDx1c2UgaHJlZj17YCMke3N2Z05hbWV9YH0+PC91c2U+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiU3ZnVXNlIiwiYnV0dG9uQWN0aW9uIiwic3ZnQ29sb3JWYXIiLCJzdmdOYW1lIiwic3ZnU2l6ZSIsInJlc3QiLCJpZCIsInN0eWxlIiwiY2xhc3MiLCJ3aWRnZXROYW1lIiwibmFtZSIsImNhblJlbmRlciIsInNldENhblJlbmRlciIsInVzZVN0YXRlIiwib25DbGljayIsImNhbkV4ZWN1dGUiLCJleGVjdXRlIiwidXNlRWZmZWN0IiwiaXNBdXRob3JpemVkIiwiaW50ZXJhY3RpdmVDbGFzcyIsImZpbGwiXSwibWFwcGluZ3MiOiI7O0FBR08sU0FBU0EsTUFBVCxDQUFnQjtFQUFFQyxZQUFGO0VBQWdCQyxXQUFoQjtFQUE2QkMsT0FBN0I7RUFBc0NDLE9BQXRDO0VBQStDLEdBQUdDLElBQUFBO0FBQWxELENBQWhCLEVBQTBFO0FBQzdFLEVBQUEsTUFBTUMsRUFBRSxHQUFHRCxJQUFJLENBQUNDLEVBQUwsSUFBVyxFQUF0QixDQUFBO0FBQ0EsRUFBQSxNQUFNQyxLQUFLLEdBQUdGLElBQUksQ0FBQ0csS0FBTCxJQUFjLEVBQTVCLENBQUE7QUFDQSxFQUFBLE1BQU1DLFVBQVUsR0FBR0osSUFBSSxDQUFDSyxJQUFMLElBQWEsRUFBaEMsQ0FBQTtFQUNBLE1BQU0sQ0FBQ0MsU0FBRCxFQUFZQyxZQUFaLElBQTRCQyxRQUFRLENBQUMsS0FBRCxDQUExQyxDQUFBOztBQUVBLEVBQUEsU0FBU0MsT0FBVCxHQUFtQjtBQUNmLElBQUEsSUFBSWIsWUFBWSxJQUFJQSxZQUFZLENBQUNjLFVBQWpDLEVBQTZDO0FBQ3pDZCxNQUFBQSxZQUFZLENBQUNlLE9BQWIsRUFBQSxDQUFBO0FBQ0gsS0FBQTtBQUNKLEdBQUE7O0FBRURDLEVBQUFBLFNBQVMsQ0FBQyxNQUFNO0FBQ1osSUFBQSxJQUFJZCxPQUFKLEVBQWE7TUFDVFMsWUFBWSxDQUFDLElBQUQsQ0FBWixDQUFBO0FBQ0gsS0FBQTtBQUNKLEdBSlEsRUFJTixDQUFDVCxPQUFELENBSk0sQ0FBVCxDQUFBOztFQU1BLElBQUlRLFNBQVMsS0FBTVYsWUFBWSxJQUFJQSxZQUFZLENBQUNpQixZQUE5QixJQUErQyxDQUFDakIsWUFBckQsQ0FBYixFQUFpRjtBQUM3RSxJQUFBLE1BQU1rQixnQkFBZ0IsR0FBR2xCLFlBQVksR0FBRyx1QkFBSCxHQUE2QixFQUFsRSxDQUFBO0lBRUEsT0FDSSxhQUFBLENBQUEsS0FBQSxFQUFBO0FBQ0ksTUFBQSxFQUFFLEVBQUVLLEVBRFI7QUFFSSxNQUFBLFNBQVMsRUFBRyxDQUFXQyxTQUFBQSxFQUFBQSxLQUFNLElBQUdFLFVBQVcsQ0FBQSxDQUFBLEVBQUdVLGdCQUFpQixDQUZuRSxDQUFBO0FBR0ksTUFBQSxPQUFPLEVBQUUsTUFBTWxCLFlBQVksSUFBSWEsT0FBTyxFQUgxQztBQUlJLE1BQUEsS0FBSyxFQUFFO1FBQUUsYUFBZ0IsRUFBQSxDQUFBLEVBQUVWLE9BQVEsQ0FBNUIsRUFBQSxDQUFBO0FBQWlDLFFBQUEsY0FBQSxFQUFpQixHQUFFRixXQUFZLENBQUEsQ0FBQTtBQUFoRSxPQUFBO0tBRVAsRUFBQSxhQUFBLENBQUEsS0FBQSxFQUFBO0FBQUssTUFBQSxJQUFJLEVBQUMsS0FBVjtBQUFnQixNQUFBLFNBQVMsRUFBQyxlQUExQjtBQUEwQyxNQUFBLEtBQUssRUFBRTtBQUFFa0IsUUFBQUEsSUFBSSxFQUFFLDBCQUFBO0FBQVIsT0FBQTtLQUM3QyxFQUFBLGFBQUEsQ0FBQSxLQUFBLEVBQUE7TUFBSyxJQUFJLEVBQUcsSUFBR2pCLE9BQVEsQ0FBQSxDQUFBO0FBQXZCLEtBQUEsQ0FESixDQU5KLENBREosQ0FBQTtBQVlILEdBZkQsTUFlTztBQUNILElBQUEsT0FBTyxJQUFQLENBQUE7QUFDSCxHQUFBO0FBQ0o7Ozs7In0=
